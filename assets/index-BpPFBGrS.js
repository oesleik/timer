import{j as e,g,L as b,r as a,u as j,a as f,b as p,A as h,c as w,M as v,d as C,e as y,f as N,H as k,R as P,h as m,C as S}from"./ChromeCastReceiverRoute-DZpcobYn.js";const M=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-2xl flex flex-col items-center justify-center h-screen gap-3 py-5 px-5 max-w-xl mx-auto",children:g().map(t=>e.jsx(b,{to:"mode/"+t.ref,className:"text-center px-6 py-2 w-full bg-echo-yellow-500 text-echo-black-500 font-medium rounded-lg border-2 focus:border-echo-white-500 hover:border-echo-white-500 cursor-pointer",children:t.description},t.ref))})}),R=()=>e.jsx(M,{}),A=({modeSettings:t,setCustomSettings:s})=>{const n=t.customParams||{},[r,o]=a.useState(()=>{const c={};return Object.entries(n).forEach(([u,d])=>{c[u]=String(d.defaultValue)}),c}),i=(c,u)=>o(d=>({...d,[c]:u}));a.useEffect(()=>{Object.keys(t.customParams||{}).length||s(r)},[t,s,r]);const x=()=>{s(r)};return Object.keys(n).length?e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:()=>{},className:"text-2xl",children:[Object.entries(n).map(([c,u])=>e.jsx(E,{param:u,value:r[c],setValue:d=>i(c,d)},c)),e.jsx("button",{type:"button",onClick:()=>x(),className:"text-center w-full px-6 py-2 bg-echo-yellow-500 text-echo-black-500 font-medium rounded-lg mr-4 border-2 focus:border-echo-white-500 hover:border-echo-white-500 cursor-pointer",children:"Continuar"})]})}):null},E=({param:t,value:s,setValue:n})=>t.inputType==="number"?e.jsxs(e.Fragment,{children:[e.jsx("label",{className:"block text-echo-white-500 text-sm font-bold mb-2",children:t.description}),e.jsx("input",{type:"number",value:s,onChange:r=>n(r.target.value),className:"shadow appearance-none border rounded w-full py-2 px-3 mb-6 text-echo-white-500 leading-tight focus:outline-none focus:shadow-outline"})]}):t.inputType==="options"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-echo-white-500 text-sm font-bold mb-2",children:t.description}),t.options.map((r,o)=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"radio",value:r.value,checked:s===r.value,onChange:i=>n(i.target.value),className:"mr-2"}),r.label]},o))]})}):e.jsx(e.Fragment,{}),I=({modeSettings:t})=>{const s=j(),n=r=>{const o=new URLSearchParams(r);s("/timer/"+t.ref+"?"+o.toString())};return e.jsxs("div",{className:"flex flex-col h-screen py-5 px-5",children:[e.jsxs("div",{className:"mb-5",children:[e.jsx(F,{onClick:()=>s("/"),children:"Voltar"}),e.jsx("h1",{className:"inline-block ml-5",children:t.description})]}),e.jsx("div",{className:"text-2xl flex flex-col items-center justify-center h-full max-w-xl mx-auto",children:e.jsx(A,{modeSettings:t,setCustomSettings:n})})]})},F=({className:t,children:s,...n})=>e.jsx(e.Fragment,{children:e.jsx("button",{type:"button",className:["bg-echo-gray-500 px-6 py-2 cursor-pointer rounded-lg text-echo-white-500 border-echo-gray-500 border-2 focus:border-echo-white-500 hover:border-echo-white-500",t].join(" "),...n,children:s})}),L=()=>{const t=f(),s=p(t.mode||"");return e.jsx(I,{modeSettings:s})};var T=function(){var t=null;return function(){return t===null&&(t=new Promise(function(s){var n=document.createElement("script");n.src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",window.__onGCastApiAvailable=function(r){r&&s({chrome,cast})},document.body.appendChild(n)})),t}}(),O=function(){var t=a.useState({chrome:null,cast:null}),s=t[0],n=t[1];return a.useEffect(function(){T().then(function(r){n(r)})},[]),s};const _=()=>{const{cast:t}=O();a.useEffect(()=>{t&&t.framework.CastContext.getInstance().setOptions({receiverApplicationId:h.CHROMECAST_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED})},[t]);const s=a.useCallback((n,r)=>{if(!t)return;const o=t.framework.CastContext.getInstance().getCurrentSession();o&&o.sendMessage(h.TIMER_CHANNEL_NAMESPACE,JSON.stringify({action:n,data:r}))},[t]);return{isLoaded:t!=null,sendMessage:s}},H=({modeSettings:t,roundSettings:s})=>{const{sendMessage:n}=_(),r=j(),o=w(s);return a.useEffect(()=>{n("setIsRunning",{isRunning:o.isRunning})},[o.isRunning,n]),e.jsxs("div",{className:"flex flex-col h-full px-5",children:[e.jsxs("div",{className:"flex justify-between gap-5 pt-5",children:[e.jsxs("div",{children:[e.jsx(l,{onClick:()=>r("/"),children:"Voltar"}),e.jsx("h1",{className:"inline-block ml-5",children:t.description})]}),e.jsx("div",{className:"h-8 cursor-pointer ml-5 mt-2 mr-2",children:e.jsx("google-cast-launcher",{})})]}),e.jsx("div",{className:"flex flex-col h-full justify-center",children:e.jsx(v,{roundSettings:s,mainTimerState:o},o.executionUid)}),e.jsx("div",{className:"max-w-xl mx-auto pb-5 pt-2",children:e.jsx(B,{...o})})]})},l=({className:t,children:s,...n})=>e.jsx(e.Fragment,{children:e.jsx("button",{type:"button",className:["bg-echo-gray-500 px-6 py-2 cursor-pointer rounded-lg text-echo-white-500 border-echo-gray-500 border-2 focus:border-echo-white-500 hover:border-echo-white-500",t].join(" "),...n,children:s})}),B=t=>e.jsxs("div",{className:"flex gap-2.5",children:[e.jsx(D,{...t}),e.jsx(V,{...t})]}),D=({isStarted:t,isRunning:s,isFinished:n,pause:r,resume:o,reset:i})=>n?e.jsx(l,{onClick:()=>i(),children:"Reiniciar"}):s?e.jsx(l,{onClick:()=>r(),children:"Parar"}):t?e.jsx(l,{onClick:()=>o(),children:"Continuar"}):e.jsx(l,{onClick:()=>o(),children:"Iniciar"}),V=({isMuted:t,mute:s,unmute:n})=>t?e.jsx(l,{onClick:()=>n(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.25 9.75 19.5 12m0 0 2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6 4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})})}):e.jsx(l,{onClick:()=>s(),children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.114 5.636a9 9 0 0 1 0 12.728M16.463 8.288a5.25 5.25 0 0 1 0 7.424M6.75 8.25l4.72-4.72a.75.75 0 0 1 1.28.53v15.88a.75.75 0 0 1-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.009 9.009 0 0 1 2.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75Z"})})}),G=()=>{const t=f(),s=C(),n=new URLSearchParams(s.search),r={};n.forEach((x,c)=>{r[c]=x});const o=p(t.mode||""),i=y(o,r);return e.jsx(H,{modeSettings:o,roundSettings:i})};N.createRoot(document.getElementById("root")).render(e.jsx(a.StrictMode,{children:e.jsx(k,{children:e.jsxs(P,{children:[e.jsx(m,{index:!0,element:e.jsx(R,{})}),e.jsx(m,{path:"/mode/:mode",element:e.jsx(L,{})}),e.jsx(m,{path:"/timer/:mode",element:e.jsx(G,{})}),e.jsx(m,{path:"/receiver",element:e.jsx(S,{})})]})})}));
